(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(53),l=a.n(r),o=(a(65),a(2)),s=a(3),i=a(5),u=a(4),m=a(6),d=(a(66),a(67),a(14)),h=a(11),p=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.product,n=t.index,r=a.stock>0?c.a.createElement("span",{className:"badge badge-success"},"C\xf2n H\xe0ng"):c.a.createElement("span",{className:"badge badge-warning"},"H\u1ebft H\xe0ng");return c.a.createElement("tr",null,c.a.createElement("td",null,n+1),c.a.createElement("td",null,a.id),c.a.createElement("th",null,c.a.createElement(h.b,{to:{pathname:"/products/detail/".concat(a.id,"/edit"),state:{product:a}}},c.a.createElement("img",{className:"table-img",src:a.image,alt:a.name}))),c.a.createElement("td",null,c.a.createElement(h.b,{to:{pathname:"/products/detail/".concat(a.id,"/edit"),state:{product:a}}},a.name)),c.a.createElement("td",null,a.price),c.a.createElement("td",null,a.stock),c.a.createElement("td",null,r),c.a.createElement("td",null,c.a.createElement(h.b,{type:"button",className:"btn btn-warning mr-10",to:{pathname:"/products/".concat(a.id,"/edit"),state:{product:a}}},"S\u1eeda"),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.onDelete(a.id)}},"X\xf3a")))}},{key:"onDelete",value:function(e){confirm("B\u1ea1n th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a product n\xe0y?")&&this.props.onDeleteItem(e)}}]),t}(n.Component),b=a(160),f=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(b.a,null,c.a.createElement(b.a.First,null),c.a.createElement(b.a.Prev,null),c.a.createElement(b.a.Item,null,1),c.a.createElement(b.a.Ellipsis,null),c.a.createElement(b.a.Item,null,10),c.a.createElement(b.a.Item,null,11),c.a.createElement(b.a.Item,{active:!0},12),c.a.createElement(b.a.Item,null,13),c.a.createElement(b.a.Item,{disabled:!0},14),c.a.createElement(b.a.Ellipsis,null),c.a.createElement(b.a.Item,null,20),c.a.createElement(b.a.Next,null),c.a.createElement(b.a.Last,null))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handlePageClick=function(e){var t=e.selected,n=Math.ceil(t*a.state.perPage);a.setState({offset:n},function(){console.log(n)})},a.state={pageCount:20,perPage:10,offset:1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(n.Fragment,null,c.a.createElement("table",{className:"table mt-20"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"STT"),c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"H\xecnh \u1ea2nh"),c.a.createElement("th",null,"T\xean S\u1ea3n ph\u1ea9m"),c.a.createElement("th",null,"Gi\xe1"),c.a.createElement("th",null,"S\u1ed1 L\u01b0\u1ee3ng T\u1ed3n"),c.a.createElement("th",null,"Tr\u1ea1ng Th\xe1i"),c.a.createElement("th",null,"H\xe0nh \u0110\u1ed9ng"))),c.a.createElement("tbody",null,this.props.children)),c.a.createElement(f,null))}}]),t}(n.Component),E=a(57),y=a.n(E),g="https://5ca173ccc1b53400149aca50.mockapi.io/api",O={ListProduct:"products"},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return y()({url:"".concat(g,"/").concat(e),method:t,data:a}).catch(function(e){console.log(e)})},k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).onDeleteItem=function(e){a.props.deleteProduct(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(v,null,this.showProducts())}},{key:"showProducts",value:function(){var e=this,t=null,a=this.props.products;if(console.log(this.props.products),a){var n=this.search(a),r=this.sort(n);console.log(r),t=r.map(function(t,a){return c.a.createElement(p,{key:t.id,product:t,index:a,onDeleteItem:e.onDeleteItem})})}return t}},{key:"search_sort",value:function(){var e=this.props.products,t=this.search(e);return this.sort(t)}},{key:"search",value:function(e){var t=e,a=this.props.searchKey;return console.log(a),""!==a&&(t=e.filter(function(e){return e.name.toLowerCase().indexOf(a.toLowerCase())>=0})),t}},{key:"sort",value:function(e){var t=this.props.sort;return e.sort(function(e,a){return e[t.by]>a[t.by]?t.value:-t.value})}},{key:"componentDidMount",value:function(){this.props.loadProducts()}}]),t}(n.Component),N=Object(d.b)(function(e){return{products:e.products,searchKey:e.search,sort:e.sort}},function(e,t){return{loadProducts:function(){e(function(e){j(O.ListProduct).then(function(t){if(t&&t.status&&200===t.status){var a=t.data;e({type:"LIST_PRODUCTS",products:a})}else e({type:"LIST_PRODUCTS",products:[]})})})},deleteProduct:function(t){e(function(e){return function(t){j("".concat(O.ListProduct,"/").concat(e),"DELETE").then(function(a){a&&a.status&&200===a.status?t({type:"DELETE_PRODUCT",id:e}):alert("Fail to delete product!")})}}(t))}}})(k),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSearch=function(){var e=a.searchKey.current.value;console.log(e),a.props.searchProducts(e)},a.searchKey=c.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("form",{className:"form-inline mt-20"},c.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",ref:this.searchKey}),c.a.createElement("button",{type:"button",className:"btn btn-outline-success my-2 my-sm-0",onClick:this.onSearch},"Search"))}}]),t}(n.Component),P=Object(d.b)(null,function(e,t){return{searchProducts:function(t){e({type:"SEARCH_PRODUCTS",searchKey:t})}}})(C),S=[{name:"T\xean A-Z",sort:{by:"name",value:1},cl:"fa fa-sort-alpha-asc pr-5"},{name:"T\xean Z-A",sort:{by:"name",value:-1},cl:"fa fa-sort-alpha-desc pr-5"},{name:"Gi\xe1 th\u1ea5p-cao",sort:{by:"price",value:1},cl:"fa fa-sort-numeric-asc"},{name:"Gi\xe1 cao-th\u1ea5p",sort:{by:"price",value:-1},cl:"fa fa-sort-numeric-desc"}],T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={nameSort:"Sort"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"btn-group mt-20"},c.a.createElement("button",{type:"button",className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.nameSort),c.a.createElement("div",{className:"dropdown-menu"},this.showSorts()))}},{key:"showSorts",value:function(){var e=this;return S.map(function(t,a){var n=e.props.sort,r=n.by===t.sort.by&&n.value===t.sort.value?"sort_selected":"";return c.a.createElement("button",{key:a,className:"dropdown-item ".concat(r),onClick:function(){return e.onSort(t)}},c.a.createElement("span",{className:t.cl},t.name))})}},{key:"onSort",value:function(e){this.props.sortProducts(e.sort),this.setState({nameSort:e.name})}},{key:"componentDidMount",value:function(){var e=this.props.sort;if(e)for(var t=0,a=S;t<a.length;t++){var n=a[t];if(e.by===n.sort.by&&e.value===n.sort.value){this.setState({nameSort:n.name});break}}}}]),t}(n.Component),w=Object(d.b)(function(e){return{sort:e.sort}},function(e,t){return{sortProducts:function(t){e(function(e){return console.log(e),{type:"SORT_PRODUCTS",by:e.by,value:e.value}}(t))}}})(T),x=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},c.a.createElement(P,null)),c.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},c.a.createElement(w,null))))}}]),t}(n.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(n.Fragment,null,c.a.createElement(x,null),c.a.createElement(N,null))}}]),t}(n.Component),I=(a(96),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.location,t=null;return e&&(t=e.state.product),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4 col-lg-4"},c.a.createElement("img",{className:"product-image",src:t.image,alt:"product"})),c.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8 col-lg-8"},c.a.createElement("h2",null,t.name),c.a.createElement("h5",null,"Gi\xe1: ",t.price),c.a.createElement("h5",null,"S\u1ed1 l\u01b0\u1ee3ng t\u1ed3n: ",t.stock),c.a.createElement("div",{className:"form-check"},c.a.createElement("input",{type:"checkbox",className:"form-check-input",readOnly:!0,checked:t.display}),c.a.createElement("label",{className:"form-check-label"},"Hi\u1ec3n Th\u1ecb"))))}}]),t}(n.Component)),L=a(27),R=(a(97),a(28)),U=a(19),F=a(58),_=a.n(F),H=function(){function e(t){Object(o.a)(this,e),this.validations=t}return Object(s.a)(e,[{key:"validate",value:function(e){var t=this.valid();return this.validations.forEach(function(a){if(!t[a.field].isInvalid){var n=e[a.field].toString(),c=a.args||[];("string"===typeof a.method?_.a[a.method]:a.method).apply(void 0,[n].concat(Object(U.a)(c),[e]))!==a.validWhen&&(t[a.field]={isInvalid:!0,message:a.message},t.isValid=!1)}}),t}},{key:"valid",value:function(){var e={};return this.validations.map(function(t){return e[t.field]={isInvalid:!1,message:""}}),Object(R.a)({isValid:!0},e)}}]),e}(),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.name,c="checkbox"===t.type?t.checked:t.value;a.setState(Object(L.a)({},n,c))},a.saveProduct=function(){a.state.id?(console.log(a.state),a.props.updateProduct(a.state)):a.props.addProduct(a.state),a.props.history.push("/")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.validator.validate(a.state);a.setState({validation:t}),a.submitted=!0,t.isValid&&a.saveProduct()},a.validator=new H([{field:"name",method:"isEmpty",validWhen:!1,message:"Name is required."},{field:"price",method:"isEmpty",validWhen:!1,message:"Pleave provide price."},{field:"image",method:"isEmpty",validWhen:!1,message:"Image is required."},{field:"stock",method:"isEmpty",validWhen:!1,message:"Stock is required."},{field:"price",method:"isInt",args:[{min:1}],validWhen:!0,message:"Price must be positive number."},{field:"stock",method:"isInt",args:[{min:1}],validWhen:!0,message:"Stock must be positive number."}]),a.submitted=!1,a.state={id:"",name:"",image:"",price:"",stock:"",kind:"",display:!0,validation:a.validator.valid()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location;console.log(e),e&&e.state.product&&this.setState(e.state.product)}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.image,n=e.price,r=e.stock,l=e.display,o=this.submitted?this.validator.validate(this.state):this.state.validation;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},c.a.createElement("form",null,c.a.createElement("legend",{className:"text-center"},"Th\xeam S\u1ea3n Ph\u1ea9m"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"name"},"S\u1ea3n Ph\u1ea9m"),c.a.createElement("input",{type:"text",className:"form-control",name:"name",value:t,onChange:this.onChange}),c.a.createElement("span",{className:"help-block"},o.name.message)),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"image"},"H\xecnh \u1ea2nh"),c.a.createElement("input",{type:"text",className:"form-control",name:"image",value:a,onChange:this.onChange}),c.a.createElement("span",{className:"help-block"},o.image.message)),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"price"},"Gi\xe1"),c.a.createElement("input",{type:"text",className:"form-control",name:"price",value:n,onChange:this.onChange}),c.a.createElement("span",{className:"help-block"},o.price.message)),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"stock"},"S\u1ed1 L\u01b0\u1ee3ng T\u1ed3n"),c.a.createElement("input",{type:"text",className:"form-control",name:"stock",value:r,onChange:this.onChange}),c.a.createElement("span",{className:"help-block"},o.stock.message)),c.a.createElement("div",{className:"form-check"},c.a.createElement("input",{type:"checkbox",className:"form-check-input",name:"display",checked:l,onChange:this.onChange}),c.a.createElement("label",{className:"form-check-label",htmlFor:"display"},"Hi\u1ec3n Th\u1ecb")),c.a.createElement("div",{className:"submit-button"},c.a.createElement("button",{type:"button",className:"btn btn-primary form-action",onClick:this.handleFormSubmit},"L\u01b0u"),c.a.createElement(h.b,{to:"/",className:"btn btn-warning form-action"},"H\u1ee7y")))))}}]),t}(n.Component),W=Object(d.b)(null,function(e,t){return{addProduct:function(t){e(function(e){return function(t){j(O.ListProduct,"POST",e).then(function(e){if(e&&e.status&&201===e.status){var a=e.data;t({type:"ADD_PRODUCT",product:a})}else alert("Fail to add product!")})}}(t))},updateProduct:function(t){e(function(e){return function(t){j("".concat(O.ListProduct,"/").concat(e.id),"PUT",e).then(function(e){if(e&&e.status&&200===e.status){var a=e.data;t({type:"UPDATE_PRODUCT",product:a})}else alert("Fail to update product!")})}}(t))}}})(A),K=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"About Page"))}}]),t}(n.Component),M=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Contact Page"))}}]),t}(n.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"alert alert-warning mt-20",role:"alert"},c.a.createElement("strong",null,"404 Not Found!"))}}]),t}(n.Component),V=[{path:"/",exact:!0,component:function(){return c.a.createElement(D,null)}},{path:"/products/detail/:id",exact:!1,component:function(e){var t=e.location,a=e.history;return c.a.createElement(I,{location:t,history:a})}},{path:"/products/:id/edit",exact:!1,component:function(e){var t=e.location,a=e.history;return c.a.createElement(W,{location:t,history:a})}},{path:"/products/add",exact:!1,component:function(e){var t=e.history;return c.a.createElement(W,{history:t})}},{path:"/about",exact:!1,component:function(){return c.a.createElement(K,null)}},{path:"/contact",exact:!1,component:function(){return c.a.createElement(M,null)}},{path:"",exact:!1,component:function(){return c.a.createElement(G,null)}}],q=a(18),B=[{name:"Trang Ch\u1ee7",to:"/",exact:!0},{name:"V\u1ec1 Ch\xfang T\xf4i",to:"/about",exact:!1},{name:"Li\xean H\u1ec7",to:"/contact",exact:!0}],J=function(e){var t=e.label,a=e.to,n=e.exact;return c.a.createElement(q.a,{path:a,exact:n,children:function(e){var n=e.match?"nav-item active":"nav-item";return c.a.createElement("li",{className:n},c.a.createElement(h.b,{className:"nav-link",to:a},t))}})},Z=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light"},c.a.createElement("a",{className:"navbar-brand",href:"/"},"Products Manager"),c.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavId"},c.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},this.showMenus())),c.a.createElement(h.b,{className:"btn btn-primary",to:"/products/add"},"Th\xeam S\u1ea3n Ph\u1ea9m"))}},{key:"showMenus",value:function(){return B.map(function(e,t){return c.a.createElement(J,{key:t,label:e.name,to:e.to,exact:e.exact})})}}]),t}(n.Component),X=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement(Z,null),this.showPages())))}},{key:"showPages",value:function(){var e;return e=V.map(function(e,t){return c.a.createElement(q.a,{key:t,path:e.path,exact:e.exact,component:e.component})}),c.a.createElement(q.c,null,e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=a(17),z=[];function Q(e,t){for(var a in e)if(e[a].id===t)return a;return-1}var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=t.products,n=t.id,c=t.product,r=0;switch(t.type){case"LIST_PRODUCTS":return a;case"ADD_PRODUCT":return[c].concat(Object(U.a)(e));case"UPDATE_PRODUCT":return(r=Q(e,c.id))>=0&&(e[r]=c),Object(U.a)(e);case"DELETE_PRODUCT":return(r=Q(e,n))>=0&&e.splice(r,1),Object(U.a)(e);default:return Object(U.a)(e)}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_PRODUCTS":return t.searchKey;default:return e}},te={by:"",value:""},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SORT_PRODUCTS":return console.log(t),{by:t.by,value:t.value};default:return Object(R.a)({},e)}},ne=Object($.c)({products:Y,search:ee,sort:ae}),ce=a(59),re=Object($.d)(ne,Object($.a)(ce.a));l.a.render(c.a.createElement(d.a,{store:re},c.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a(158)},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.e4b6e4ac.chunk.js.map